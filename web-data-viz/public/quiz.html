<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz</title>
    <link rel="stylesheet" href="./css/quiz_style.css">
</head>
<body>
    <div id="navbar">
        <div id="nav_logo">
            <img id="logo" src="" alt="SpecialE">        
        </div>
        <div id="nav_link">
            <a id="link_home" class="link" href="#home">Home</a>
            <a id="link_servicos" class="link" href="#servicos">Serviços</a>
            <a id="link_sobre_nos" class="link" href="#sobre_nos">Sobre nós</a>
            <a id="link_equipe" class="link" href="#equipe">Equipe</a>
            <a id="link_login" class="link-button" href="login.html">Login</a>
        </div>
    </div>
    <div id="home">
        <div class="quiz-container">
            <div class="questoes" id="questoes1">
                <h3>Como você avalia a estrutura física da escola do seu filho(a) em termos de acessibilidade?</h3>
                <ul class="answers">
                    <li><input type="radio" name="q1" value="Muito adequada"> Muito adequada</li>
                    <li><input type="radio" name="q1" value="Adequada"> Adequada</li>
                    <li><input type="radio" name="q1" value="Parcialmente adequada"> Parcialmente adequada</li>
                    <li><input type="radio" name="q1" value="Inadequada"> Inadequada</li>
                </ul>
            </div>
            <div class="questoes" id="questoes2">
                <h3>Você acredita que os professores da escola do seu filho(a) estão preparados para lidar com as necessidades dele(a)?</h3>
                <ul class="answers">
                    <li><input type="radio" name="q2" value="Muito preparados"> Muito preparados</li>
                    <li><input type="radio" name="q2" value="Preparados"> Preparados</li>
                    <li><input type="radio" name="q2" value="Parcialmente preparados"> Parcialmente preparados</li>
                    <li><input type="radio" name="q2" value="Despreparados"> Despreparados</li>
                </ul>
            </div>
            <div class="questoes" id="questoes3">
                <h3>A escola oferece recursos pedagógicos específicos para atender às necessidades do seu filho(a)?</h3>
                <ul class="answers">
                    <li><input type="radio" name="q3" value="Sempre"> Sempre</li>
                    <li><input type="radio" name="q3" value="Frequentemente"> Frequentemente</li>
                    <li><input type="radio" name="q3" value="Ocasionalmente"> Ocasionalmente</li>
                    <li><input type="radio" name="q3" value="Nunca"> Nunca</li>
                </ul>
            </div>
            <div class="questoes" id="questoes4">
                <h3>Como você percebe o nível de inclusão do seu filho(a) no ambiente escolar?</h3>
                <ul class="answers">
                    <li><input type="radio" name="q4" value="Totalmente incluído"> Totalmente incluído</li>
                    <li><input type="radio" name="q4" value="Parcialmente incluído"> Parcialmente incluído</li>
                    <li><input type="radio" name="q4" value="Raramente incluído"> Raramente incluído</li>
                    <li><input type="radio" name="q4" value="Não incluído"> Não incluído</li>
                </ul>
            </div>
            <div class="questoes" id="questoes5">
                <h3>Você acha que a escola promove atividades que estimulam a interação entre alunos com e sem deficiência?</h3>
                <ul class="answers">
                    <li><input type="radio" name="q5" value="Sempre"> Sempre</li>
                    <li><input type="radio" name="q5" value="Frequentemente"> Frequentemente</li>
                    <li><input type="radio" name="q5" value="Ocasionalmente"> Ocasionalmente</li>
                    <li><input type="radio" name="q5" value="Nunca"> Nunca</li>
                </ul>
            </div>
            <div class="questoes" id="questoes6">
                <h3>Como você avalia a comunicação entre a escola e as famílias em relação às necessidades específicas do seu filho(a)?</h3>
                <ul class="answers">
                    <li><input type="radio" name="q6" value="Excelente"> Excelente</li>
                    <li><input type="radio" name="q6" value="Boa"> Boa</li>
                    <li><input type="radio" name="q6" value="Regular"> Regular</li>
                    <li><input type="radio" name="q6" value="Ruim"> Ruim</li>
                </ul>
            </div>
            <div class="questoes" id="questoes7">
                <h3>Quais são os maiores desafios que você enfrenta na busca por uma educação inclusiva para seu filho(a)?</h3>
                <ul class="answers">
                    <li><input type="radio" name="q7" value="Falta de recursos financeiros"> Falta de recursos financeiros</li>
                    <li><input type="radio" name="q7" value="Falta de apoio profissional"> Falta de apoio profissional</li>
                    <li><input type="radio" name="q7" value="Estrutura física inadequada"> Estrutura física inadequada</li>
                    <li><input type="radio" name="q7" value="Preconceito e discriminação"> Preconceito e discriminação</li>
                </ul>
            </div>
            <div class="questoes" id="questoes8">
                <h3>Você considera que seu filho(a) tem recebido apoio emocional suficiente na escola?</h3>
                <ul class="answers">
                    <li><input type="radio" name="q8" value="Sim, completamente"> Sim, completamente</li>
                    <li><input type="radio" name="q8" value="Em parte"> Em parte</li>
                    <li><input type="radio" name="q8" value="Pouco"> Pouco</li>
                    <li><input type="radio" name="q8" value="Não"> Não</li>
                </ul>
            </div>
            <div class="questoes" id="questoes9">
                <h3>Você sente que seu filho(a) está sendo preparado para o futuro de maneira adequada pela escola?</h3>
                <ul class="answers">
                    <li><input type="radio" name="q9" value="Sim, totalmente"> Sim, totalmente</li>
                    <li><input type="radio" name="q9" value="Em parte"> Em parte</li>
                    <li><input type="radio" name="q9" value="Pouco"> Pouco</li>
                    <li><input type="radio" name="q9" value="Não"> Não</li>
                </ul>
            </div>
            <div class="questoes" id="questoes10">
                <h3>Quais sugestões você daria para melhorar a inclusão e a qualidade da educação para crianças com necessidades especiais?</h3>
                <textarea name="q10" rows="4" cols="50"></textarea>
            </div>
            <button onclick="quest()">Enviar Respostas</button>
        </div>
    </div>

    <script>
        function quest() {
        var respostas = [];
        var questoes = document.querySelectorAll('.questoes');
        var perguntaNum = 1; // Inicia com a pergunta número 1

        for (var i = 0; i < questoes.length; i++) {
            var question = questoes[i];
            var selectedOption = question.querySelector('input[type="radio"]:checked');
            var textarea = question.querySelector('textarea');

            var resposta = null;
            if (selectedOption) {
                resposta = selectedOption.value;
            } else if (textarea) {
                resposta = textarea.value;
            }

            // Adiciona a resposta ao array de respostas com a numeração da pergunta
            respostas.push({ pergunta: perguntaNum, resposta: resposta });
            perguntaNum++; // Incrementa o número da pergunta
        }

        if (respostas.length === 0) {
            alert('Por favor, preencha todas as questões antes de enviar.');
        } else {
            fetch("/quiz/respostas", { 
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(respostas)
            }).then(function (resposta) {
                if (resposta.ok) {
                    alert('Respostas enviadas com sucesso!');
                } else {
                    resposta.text().then(texto => {
                        alert('Erro ao enviar respostas: ' + texto);
                    });
                }
            }).catch(function (erro) {
                alert('Houve um erro ao tentar enviar as respostas!');
                console.error(erro);
            });
        }
    }
    </script>
</body>
</html>
